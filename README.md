### Тестовое задание O-Complex

- [X] Разработать веб-приложение, где пользователь может вводить название города и получать прогноз погоды на ближайшее время. Обеспечить вывод данных прогноза погоды в удобно читаемом формате;

- [X] Использовать API для погоды: Open-Meteo;

- [X] Написание тестов; (pytest c использованием GPT)

- [X] Упаковать в Docker; (docker-compose с подъемом postgres и веб приложения)
.
- [ ] Реализовать функцию автодополнения (подсказок) при вводе названия города; (Ясно, что нужно обращаться к каому либо сервису и работать с апи, например, Google Places, интегрировать в шаблон через JS. Не хватило времени, и так вышел за лимиты)

- [ ] При повторном посещении сайта предложить пользователю посмотреть погоду в городе, который он смотрел ранее; (таже не успел по времени, можно было использовать sweetalert2.js и передавать в куки последний запрос пользователя и получать это значение, предлагать пользователю автоподстановку)

- [ ] Реализовать сохранение истории поиска для каждого пользователя;(я бы решал эту задачу через реализацию пользователей по кукам в бд, аккумулируя запросы пользователей, возможно, использовал бы авточитску 30 дней, если пользователь не делал какие либо запросы.)

- [X] Создать API, которое покажет, сколько раз вводили каждый город; (http://localhost:8000/count вернет json с городами и колличеством запросов погоды)


### Для старта

Приложение реализовано при помощи Fastapi и Postgres.

##### Сначала перееименуем .env.example
```shell
mv .env.example .env
```
Также создать по образцу .env-prod, заменить хост на имя приложение в compose, в текущем положении указать host = db

##### Установим зависимости
```shell
python -m venv env && source env/bin/activate && pip install requirements.py
```

##### Поднимаем приложение через команду
```shell
docker-compose up
```
 
Не успел повесить декораторы loguru чтобы аккумулировать логи в папке logs, для дальнейшей возможности отображать их, например, в Grafana.
Тесты имеют конфликт, подозреваю, из-за одного экземпляра сессии, так что запускать каждый модуль тестов по отдельности.

```shell
PYTHONPATH=. pytest tests/test_router_user.py
PYTHONPATH=. pytest tests/test_router_db.py
```

### Результат:

Веб-риложение, возвращающее погоду на 3 часа назад от времени запроса по МСК, и на 3 часа вперед.